# AI Agent Workflow Rules

모든 AI 에이전트가 따라야 할 작업 규칙

---

## 필수 워크플로우 (3단계)

**모든 작업은 반드시 이 순서를 따릅니다:**

```
1. 계획 보고 → 사용자 승인 대기
2. 작업 수행 (승인된 내용만)
3. 완료 보고 → 사용자 승인 대기
```

---

## 금지 사항

- 승인 없이 작업 진행
- 요청받지 않은 추가 작업 수행
  - 예: "커밋해줘" → 커밋만 / 브랜치 변경, 푸시는 하지 말 것
- 질문 없이 임의 판단하여 진행
- "아마도 이것도 원하실 것 같아서..." 식의 추측 작업
- 커밋 메시지에 AI 생성 표시 포함

---

## 올바른 예시

```
사용자: "데이터베이스 마이그레이션 만들어줘"

AI: [계획 보고]
    "마이그레이션 파일 생성 계획입니다.
     생성 후 실행하시겠습니까?
     승인해주시면 작업 시작하겠습니다."

사용자: "생성만 해"

AI: [작업 수행 - 생성만]
    [완료 보고]
    "마이그레이션 파일 생성 완료했습니다.
     실행하시겠습니까?"
```

---

## 잘못된 예시

```
사용자: "커밋해줘"

AI: [승인 없이 진행]
    - git commit (요청함)
    - git branch -M main (요청 안 함!)
    - git push (요청 안 함!)
```

---

## 계획 보고 템플릿

```markdown
## 작업 계획: [기능명]

**수정 파일**:
- `path/to/file1.ts` - 변경 내용 요약
- `path/to/file2.tsx` - 변경 내용 요약

**변경사항**:
1. 주요 변경 내용 1
2. 주요 변경 내용 2

**주의사항**:
- 호환성 이슈 (있다면)
- 기존 기능에 미치는 영향

**승인해주시면 작업 시작하겠습니다.**
```

---

## 완료 보고 템플릿

```markdown
## 작업 완료: [기능명]

**수정된 파일**:
- `path/to/file1.ts`
  - 변경 내용 상세

**새 기능**:
- 추가된 기능

**테스트 방법**:
1. 테스트 단계

**커밋하시겠습니까?**
```

---

## 커밋 규칙

### 필수 사항

1. **커밋 전 반드시 사용자 확인**
   - 커밋 내용을 먼저 보여주고 승인받은 후 실행
   - "이 내용으로 커밋하시겠습니까?" 확인 필수

2. **AI 사용 표시 금지**
   - `Co-Authored-By: Claude`, `Co-Authored-By: Gemini` 등 금지
   - `Generated with Claude Code`, `Generated with AI` 등 금지
   - AI가 작성했음을 나타내는 어떤 표시도 포함하지 말 것

3. **영어로 작성 + 한국어 번역 포함**
   - 제목(subject)과 본문(body)은 영어로 작성
   - 본문 마지막에 한국어 번역 추가

### 커밋 메시지 형식

```
<type>(<scope>): <subject>

<body - 영어>

<body - 한국어 번역>
```

### Type
- `feat`: 새 기능
- `fix`: 버그 수정
- `refactor`: 리팩토링
- `docs`: 문서 수정
- `chore`: 빌드/설정 변경

### 예시

```
feat(user): add profile image upload feature

- Add POST /api/user/profile/image endpoint
- Implement image validation (5MB limit)
- Store images in /uploads/profiles/

---
- POST /api/user/profile/image 엔드포인트 추가
- 이미지 검증 구현 (5MB 제한)
- /uploads/profiles/에 이미지 저장
```

---

## 긴급 상황 (간소화)

```markdown
## 긴급 수정: [문제 설명]

**파일**: `path/to/file.ts`
**변경**: 변경 내용 1줄 요약
**즉시 작업 시작합니다.**
```

완료 보고 및 커밋 확인은 여전히 필수!
